@page "/ParticipantesAlumnos"
<PageTitle>SSOE | Regristro Participantes</PageTitle>


<!-- Encabezado de Página (Header Fixed-Top) -->
<header>
    
    <div class="d-none d-sm-none d-md-block d-lg-block d-xl-block d-xxl-block">
        <RadzenHeader class="rz-border-radius-0 rz-py-0 rz-background-color-base-200" Style="border-bottom: 8px solid #076633; position:fixed;">
            <RadzenImage Path="./cintilloSSOE.png" style="width=100px" AlternateText="SSEO - Sistema de Sorteo de Estacionamiento" class="img-fluid rz-my-0" />
        </RadzenHeader>
    </div>

</header>
<hr class="d-block d-sm-block d-md-none d-lg-none d-xl-none d-xxl-none rz-my-10" />


<br /><br />
<h1 class="Estilo1"><i class="fa fa-dropbox fa-md"></i> Registro para sorteo de estacionamiento</h1>

<EditForm Model="@oParticipante" OnValidSubmit="@OnValidHandled" OnInvalidSubmit="@OnInvalidHandled_ScrollToTop">

    <!-- ******************************************************************* AVISOS DE ALERTA ******************************************************************* -->
    <div>
        <RadzenStack Gap="5">
            <RadzenAlert AllowClose="false" AlertStyle="AlertStyle.Success" Variant="Variant.Filled">
                Todos los campos son obligatorios.
            </RadzenAlert>
        </RadzenStack>

        <RadzenStack Gap="5">
            <RadzenAlert AllowClose="false" AlertStyle="AlertStyle.Warning" Variant="Variant.Filled" Shade="Shade.Dark">
                ATENCIÓN: En caso de que se detecte que existe duplicidad de datos de un mismo usuario,
                se le suspenderá el derecho del uso del estacionamiento.
            </RadzenAlert>
        </RadzenStack>
    </div>

    <!-- ******************************************************************* DATOS PERSONALES ******************************************************************* -->
    <RadzenCard class="mt-3">
    <RadzenFieldset AllowCollapse="true" ExpandTitle="DATOS PERSONALES" CollapseTitle="DATOS PERSONALES" ExpandAriaLabel="" CollapseAriaLabel="" Class="rz-border-base-500 rz-border-radius-1 rz-shadow-3">
        <HeaderTemplate>
            <span class="d-inline-flex align-items-center align-middle">
                <RadzenIcon Icon="account_box" class="me-1" /><b>DATOS PERSONALES</b>
            </span>
        </HeaderTemplate>
        <ChildContent>
            
            <div class="row">
                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Nombre(s)" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                                <RadzenTextBox @bind-Value="@oParticipante.PartNombre" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200" Placeholder="Escribe tu(s) nombre(s)"
                                            @oninput="@((e) => oParticipante.PartNombre = e.Value.ToString().ToUpper())"
                                            onkeypress="return /^[A-Za-z. ]+$/.test(String.fromCharCode(event.keyCode || event.which));" />
                             
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartNombre)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Primer Apellido" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartPrimerApellido" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200" Placeholder="Primer Apellido"
                                            @oninput="@((e) => oParticipante.PartPrimerApellido = e.Value.ToString().ToUpper())"
                                            onkeypress="return /^[A-Za-z. ]+$/.test(String.fromCharCode(event.keyCode || event.which));" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartPrimerApellido)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Segundo Apellido" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartSegundoApellido" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200" Placeholder="Segundo Apellido"
                                            @oninput="@((e) => oParticipante.PartSegundoApellido = e.Value.ToString().ToUpper())"
                                            onkeypress="return /^[A-Za-z. ]+$/.test(String.fromCharCode(event.keyCode || event.which));" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartSegundoApellido)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="CURP" AllowFloatingLabel="false" Placeholder="" AllowClear="true" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="document_scanner" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                                <RadzenTextBox  @bind-Value="@oParticipante.PartCurp" style="border-bottom: 3px solid #026969;;" MinLength="0" MaxLength="18"
                                            @oninput="@((e) => oParticipante.PartCurp = e.Value.ToString().ToUpper())"
                                            onkeypress="return /^[A-Za-z0-9]+$/.test(String.fromCharCode(event.keyCode || event.which));" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Body1" TagName="TagName.P" TextAlign="TextAlign.Justify">
                               
                            </RadzenText>
                        </Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartCurp)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="No. de Boleta" AllowFloatingLabel="false" Placeholder="" AllowClear="true" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="dialpad" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                                <RadzenTextBox @bind-Value="@oParticipante.PartBoleta" style="border-bottom: 3px solid #026969;;" MinLength="0" MaxLength="18"
                                               @oninput="@((e) => oParticipante.PartBoleta = e.Value.ToString().ToUpper())"
                                               onkeypress="return /^[A-Za-z0-9]+$/.test(String.fromCharCode(event.keyCode || event.which));" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Caption"  />
                        </Helper>
                    </RadzenFormField>
                        <ValidationMessage For="@(() => oParticipante.PartBoleta)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Tipo de Solicitante" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="tag" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenDropDown 
                                            @bind-Value="@oParticipante.PartIdTipoParticipante"
                                            TValue="int"
                                            ValueProperty="TipopartNombre"
                                            TextProperty="TipopartNombre"
                                            Data="@oTipoParticipante.Data"
                                            AllowClear="true"
                                            AllowFiltering="true"
                                            FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                            FilterOperator="StringFilterOperator.Contains"
                                            AllowVirtualization="true"
                                            Placeholder="Selecciona una opción"
                                            FilterPlaceholder="Buscar..."
                                            Multiple="false"
                                            Chips="true"
                                            InputAttributes="@(new Dictionary<string,object>(){{ "font-family", "Arial" }})"
                                                style="border-bottom: 3px solid #026969;" />
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartIdTipoParticipante)" />
                </div>

                <div class="col-md-4 col-lg-8">
                    <RadzenFormField Text="Carrera" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="tag" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenDropDown @bind-Value="@oParticipante.PartIdCarrera"
                                            TValue="int"
                                                ValueProperty="CarrNombre"
                                                TextProperty="CarrNombre"
                                            Data="@oCarrera.Data"
                                            AllowClear="true"
                                            AllowFiltering="true"
                                            FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                            FilterOperator="StringFilterOperator.Contains"
                                            AllowVirtualization="true"
                                            Placeholder="Selecciona una opción"
                                            FilterPlaceholder="Buscar..."
                                            Multiple="false"
                                            Chips="true"
                                            InputAttributes="@(new Dictionary<string,object>(){{ "font-family", "Arial" }})"
                                            style="border-bottom: 3px solid #026969;" />
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartIdCarrera)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Semestre" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="tag" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenDropDown @bind-Value="@oParticipante.PartIdSemestre"
                                            TValue="int"
                                            ValueProperty="NumSemestre"
                                            TextProperty="NumSemestre"
                                            Data="@oSemestre.Data"
                                            AllowClear="true"
                                            AllowFiltering="true"
                                            FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                            FilterOperator="StringFilterOperator.Contains"
                                            AllowVirtualization="true"
                                            Placeholder="Selecciona una opción"
                                            FilterPlaceholder="Buscar..."
                                            Multiple="false"
                                            Chips="true"
                                            InputAttributes="@(new Dictionary<string,object>(){{ "font-family", "Arial" }})"
                                            style="border-bottom: 3px solid #026969;" />
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartIdSemestre)" />
                </div>

                <div class="col-md-4 col-lg-8">
                    <RadzenFormField Text="@($@"{(ActionAddEdit == "agregar" ? "Correo Electrónico Personal" : "Correo Electrónico Personal Actual")}")" AllowFloatingLabel="false" Placeholder="" AllowClear="true" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="email" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                                <RadzenTextBox Name="@($@"email_personal_{TipoParticipante}")" @bind-Value="@oParticipante.PartEmail" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="100"
                                            Disabled="@(ActionAddEdit == "actualizar" ? true : false)" ReadOnly="@(ActionAddEdit == "actualizar" ? true : false)" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Caption" TagName="TagName.Div" TextAlign="TextAlign.Justify" class="alert alert-info my-1 p-2"
                                        Text="@($@"{( ActionAddEdit == "actualizar" ? "En caso de cambio de Correo Electrónico Personal, levanta una Solicitud (Ticket)." : "En caso de no contar con un Correo Personal, le recomendamos crear uno con dominio válido (gmail, outlook, hotmail, yahoo, msn, live, etc)." )}")" />
                        </Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartEmail)" />
                </div>

                <div class="col-md-4 col-lg-4">
                        <RadzenFormField Text="Teléfono" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="phone_iphone" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                                <RadzenMask @bind-Value="@oParticipante.PartNoTelCelular" MinLength="0" MaxLength="20" style="border-bottom: 3px solid #026969;"
                                        Mask="** ** ** ** **" CharacterPattern="[0-9]" Placeholder="00 00 00 00 00" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Caption" TagName="TagName.Div" TextAlign="TextAlign.Justify" class="alert alert-info my-1 p-2"/>
                        </Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartNoTelCelular)" />
                </div>

            </div>

        </ChildContent>
        <SummaryTemplate>
            
        </SummaryTemplate>
    </RadzenFieldset>
    </RadzenCard>



    <!-- ******************************************************************* DATOS DEL VEHÍCULO ******************************************************************* -->
    <RadzenCard>
    <RadzenFieldset AllowCollapse="true" ExpandTitle="DATOS DEL VEHÍCULO" CollapseTitle="DATOS DEL VEHÍCULO" ExpandAriaLabel="" CollapseAriaLabel="" Class="rz-border-base-500 rz-border-radius-1 rz-shadow-3">
        <HeaderTemplate>
            <span class="d-inline-flex align-items-center align-middle">
                    <!-- <RadzenIcon Icon="account_box" class="me-1" /><b>DATOS DEL VEHÍCULO</b> -->
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-car-front-fill" viewBox="0 0 16 16">
                    <path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679q.05.242.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.8.8 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2m10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2zM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17s3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z" />
                </svg>&nbsp;
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bicycle" viewBox="0 0 16 16">
                    <path d="M4 4.5a.5.5 0 0 1 .5-.5H6a.5.5 0 0 1 0 1v.5h4.14l.386-1.158A.5.5 0 0 1 11 4h1a.5.5 0 0 1 0 1h-.64l-.311.935.807 1.29a3 3 0 1 1-.848.53l-.508-.812-2.076 3.322A.5.5 0 0 1 8 10.5H5.959a3 3 0 1 1-1.815-3.274L5 5.856V5h-.5a.5.5 0 0 1-.5-.5m1.5 2.443-.508.814c.5.444.85 1.054.967 1.743h1.139zM8 9.057 9.598 6.5H6.402zM4.937 9.5a2 2 0 0 0-.487-.877l-.548.877zM3.603 8.092A2 2 0 1 0 4.937 10.5H3a.5.5 0 0 1-.424-.765zm7.947.53a2 2 0 1 0 .848-.53l1.026 1.643a.5.5 0 1 1-.848.53z" />
                    </svg>&nbsp;
                <b>DATOS DEL VEHÍCULO</b>
            </span>
        </HeaderTemplate>
        <ChildContent>

            <div class="row">

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Tipo de Vehículo" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="tag" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenDropDown @bind-Value="@oParticipante.PartIdTipoParticipante"
                                            TValue="int"
                                            ValueProperty="TipoVehiculo"
                                            TextProperty="TipoVehiculo"
                                            Data="@oTipoVehiculo.Data"
                                            AllowClear="true"
                                            AllowFiltering="true"
                                            FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                            FilterOperator="StringFilterOperator.Contains"
                                            AllowVirtualization="true"
                                            Placeholder="Selecciona una opción"
                                            FilterPlaceholder="Buscar..."
                                            Multiple="false"
                                            Chips="true"
                                            InputAttributes="@(new Dictionary<string,object>(){{ "font-family", "Arial" }})"
                                            style="border-bottom: 3px solid #026969;" />
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartIdTipoVehiculo)" />
                </div>


                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Placa" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartPlaca" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200" 
                                            @oninput="@((e) => oParticipante.PartPlaca = e.Value.ToString().ToUpper())" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartPlaca)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Estado(Placa)" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="tag" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenDropDown @bind-Value="@oParticipante.PartIdEdoRepMexVehiculo"
                                            TValue="int"
                                            ValueProperty="EdoNombre"
                                            TextProperty="EdoNombre"
                                            Data="@oEdoRepMex.Data"
                                            AllowClear="true"
                                            AllowFiltering="true"
                                            FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                            FilterOperator="StringFilterOperator.Contains"
                                            AllowVirtualization="true"
                                            Placeholder="Selecciona una opción"
                                            FilterPlaceholder="Buscar..."
                                            Multiple="false"
                                            Chips="true"
                                            InputAttributes="@(new Dictionary<string,object>(){{ "font-family", "Arial" }})"
                                            style="border-bottom: 3px solid #026969;" />
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartIdEdoRepMexVehiculo)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Uso(Tipo de Servicio)" AllowFloatingLabel="false" Variant="Variant.Outlined" Class="w-100 mt-3" Disabled="false">
                        <Start><RadzenIcon Icon="tag" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenDropDown @bind-Value="@oParticipante.PartIdTipoPlaca"
                                            TValue="int"
                                            ValueProperty="TipoPlaca"
                                            TextProperty="TipoPlaca"
                                            Data="@oTipoPlaca.Data"
                                            AllowClear="true"
                                            AllowFiltering="true"
                                            FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                            FilterOperator="StringFilterOperator.Contains"
                                            AllowVirtualization="true"
                                            Placeholder="Selecciona una opción"
                                            FilterPlaceholder="Buscar..."
                                            Multiple="false"
                                            Chips="true"
                                            InputAttributes="@(new Dictionary<string,object>(){{ "font-family", "Arial" }})"
                                            style="border-bottom: 3px solid #026969;" />
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartIdTipoPlaca)" />
                </div>


                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Marca" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartMarca" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200"
                                            @oninput="@((e) => oParticipante.PartMarca = e.Value.ToString().ToUpper())" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartMarca)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Modelo" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartModelo" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200"
                                            @oninput="@((e) => oParticipante.PartModelo = e.Value.ToString().ToUpper())" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartModelo)" />
                </div>

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Version" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartVersion" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200"
                                            @oninput="@((e) => oParticipante.PartVersion = e.Value.ToString().ToUpper())" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartVersion)" />
                </div>
                               
                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Año" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                                <RadzenTextBox @bind-Value="@año" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200" />
                                @* <RadzenNumeric ShowUpDown="false" TValue="int?" @bind-Value="@oParticipante.PartAño"/> *@
                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartAño)" />
                </div> 

                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Color" AllowFloatingLabel="false" Variant="Variant.Flat" Class="w-100 mt-3" Disabled="false">
                        @* <Start><RadzenIcon Icon="person" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start> *@
                        <ChildContent>
                            <RadzenTextBox @bind-Value="@oParticipante.PartColor" style="border-bottom: 3px solid #026969;" MinLength="0" MaxLength="200"
                                            @oninput="@((e) => oParticipante.PartColor = e.Value.ToString().ToUpper())" />

                        </ChildContent>
                        <Helper><RadzenText TextStyle="TextStyle.Caption" /></Helper>
                    </RadzenFormField>
                    <ValidationMessage For="@(() => oParticipante.PartColor)" />
                </div>
                
            </div> <!-- /div class="row" -->

        </ChildContent>
        <SummaryTemplate>

        </SummaryTemplate>
    </RadzenFieldset>
    </RadzenCard>


    <div>
        <RadzenStack Gap="0">
            <RadzenAlert Variant="@variant" AlertStyle="@alertStyle" Size="@size" Shade="Shade.Darker" AllowClose=false>
                ATENCIÓN: Antes de enviar los documentos, asegurate de renombrarlos como se muestran en los siguientes ejemplos.
            </RadzenAlert>
        </RadzenStack>
    </div>


    <!-- ******************************************************************* Subida de Archivos ******************************************************************* -->
    <RadzenCard Style="margin-bottom:20px">
        <RadzenFieldset AllowCollapse="true" ExpandTitle="DATOS DEL VEHÍCULO" CollapseTitle="DATOS DEL VEHÍCULO" ExpandAriaLabel="" CollapseAriaLabel="" Class="rz-border-base-500 rz-border-radius-1 rz-shadow-3">
            <HeaderTemplate>
                <span class="d-inline-flex align-items-center align-middle">
                    <!-- <RadzenIcon Icon="account_box" class="me-1" /><b>DATOS DEL VEHÍCULO</b> -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                        <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707z" />
                        <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z" />
                    </svg>&nbsp;
                    <b>ARCHIVOS REQUERIDOS</b>
                </span>
            </HeaderTemplate>
            <ChildContent>
               <div class="row">
                    <div class="col-md-4 col-lg-4">
                        <RadzenFormField Text="Credencial" AllowFloatingLabel="false" Variant="Variant.Outlined" class="w-100 mt-3" Disable="false">
                            <Start><RadzenIcon Icon="picture_as_pdf" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                            <ChildContent>
                                <RadzenUpload @ref="oUploadFile_Credencial"
                                              Url="@($"/api/RespositoryFiles/UploadSingleFile/{folder}/{idResponse}/{oParticipante.PartFileNameCredencialIpnine}/{oGuid}")" Accept=".pdf"
                                              Icon="upload" ChooseText="Examinar Archivo" Auto="false" Multiple="false" />
                            </ChildContent>
                            <Helper>
                                <RadzenText TextStyle="TextStyle.Body1" TagName="TagName.P" TextAlign="TextAlign.JustifyAll" Style="font-size:small">
                                    Subir credencial INE o Escolar.
                                </RadzenText>
                            </Helper>
                        </RadzenFormField>
                    </div>
                    <div class="col-md-4 col-lg-4">
                        <RadzenFormField Text="Tarjeta de Circulación" AllowFloatingLabel="false" Variant="Variant.Outlined" class="w-100 mt-3" Disable="false">
                            <Start><RadzenIcon Icon="picture_as_pdf" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                            <ChildContent>
                                <RadzenUpload @ref="oUploadFile_TarjetaCirculacion"
                                              Url="@($"/api/RespositoryFiles/UploadSingleFile/{folder}/{idResponse}/{oParticipante.PartFileNameTarjetaCirculacion}/{oGuid}")" Accept=".pdf"
                                              Icon="upload" ChooseText="Examinar Archivo" Auto="false" Multiple="false" />
                            </ChildContent>
                            <Helper>
                                <RadzenText TextStyle="TextStyle.Body1" TagName="TagName.P" TextAlign="TextAlign.JustifyAll">

                                </RadzenText>
                            </Helper>
                        </RadzenFormField>
                    </div>
                    <div class="col-md-4 col-lg-4">
                        <RadzenFormField Text="Licencia de Conducir" AllowFloatingLabel="false" Variant="Variant.Outlined" class="w-100 mt-3" Disable="false">
                            <Start><RadzenIcon Icon="picture_as_pdf" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                            <ChildContent>
                                <RadzenUpload @ref="oUploadFile_LicenciaConducir"
                                              Url="@($"/api/RespositoryFiles/UploadSingleFile/{folder}/{idResponse}/{oParticipante.PartFileNameLicenciaConducir}/{oGuid}")" Accept=".pdf"
                                              Icon="upload" ChooseText="Examinar Archivo" Auto="false" Multiple="false" />
                            </ChildContent>
                            <Helper>
                                <RadzenText TextStyle="TextStyle.Body1" TagName="TagName.P" TextAlign="TextAlign.JustifyAll">

                                </RadzenText>
                            </Helper>
                        </RadzenFormField>
                    </div>
               </div>
                
               
                <div class="col-md-4 col-lg-4">
                    <RadzenFormField Text="Comprobante de Estudios" AllowFloatingLabel="false" Variant="Variant.Outlined" class="w-100 mt-3" Disable="false">
                        <Start><RadzenIcon Icon="picture_as_pdf" IconColor="@Colors.Base400" IconStyle="IconStyle.Secondary" /></Start>
                        <ChildContent>
                            <RadzenUpload @ref="oUploadFile_ComprobanteEstudios"
                                          Url="@($"/api/RespositoryFiles/UploadSingleFile/{folder}/{idResponse}/{oParticipante.PartFileSizeComprobanteEstudiosHorario}/{oGuid}")" Accept=".pdf"
                                          Icon="upload" ChooseText="Examinar Archivo" Auto="false" Multiple="false" />
                        </ChildContent>
                        <Helper>
                            <RadzenText TextStyle="TextStyle.Body1" TagName="TagName.P" TextAlign="TextAlign.JustifyAll">

                            </RadzenText>
                        </Helper>
                    </RadzenFormField>
                </div>
                <div style="margin:10px">
                    <RadzenStack Gap="5" Orientation="Orientation.Horizontal" AlignItems="AlignItems.End" Wrap="FlexWrap.Wrap">
                        <RadzenButton Shade="Shade.Light" Click=@(args => OnClick("Success button ")) Text="Enviar Registro" ButtonStyle="ButtonStyle.Success" />
                    </RadzenStack>
                </div>

            </ChildContent>
        </RadzenFieldset>
    </RadzenCard>
    </EditForm>


@code {

    [Parameter] public string? ActionAddEdit { get; set; }
    [Parameter] public string? TipoParticipante { get; set; }
    string año;

    private RequestDTO_Participante? oParticipante = new();
    public Response<List<RequestViewModel_TipoParticipante>>? oTipoParticipante = new();
    public Response<List<RequestViewModel_Carrera>>? oCarrera = new();
    public Response<List<RequestViewModel_Semestre>>? oSemestre = new();
    public Response<List<RequestViewModel_TipoVehiculo>>? oTipoVehiculo = new();
    public Response<List<RequestViewModel_EdoRepMex>>? oEdoRepMex = new();
    public Response<List<RequestViewModel_TipoPlaca>>? oTipoPlaca = new();

    protected override async Task OnInitializedAsync()
    {
        oTipoParticipante = await servicioTipoParticipante.GetAllDataByStatusAsync(0);
        oCarrera = await servicioCarrera.GetAllDataByStatusAsync(0);
        oSemestre = await servicioSemestre.GetAllDataByStatusAsync(0);
        oTipoVehiculo = await servicioTipoVehiculo.GetAllDataByStatusAsync(0);
        oEdoRepMex = await servicioEdoRepMex.GetAllDataByStatusAsync(0);
        oTipoPlaca = await servicioTipoPlaca.GetAllDataByStatusAsync(0);
    }

    private void OnClick(string text)
    {
        NotificationService.Notify(new NotificationMessage { Severity = NotificationSeverity.Info, Summary = "Button Clicked", Detail = text });
    }

    Variant variant = Variant.Filled;
    AlertSize size = AlertSize.Medium;
    AlertStyle alertStyle = AlertStyle.Primary;

    public async Task OnValidHandled(){}

    public async Task OnInvalidHandled_ScrollToTop(){}

    //año
    DateTime value = DateTime.Now;

    void OnCurrentDateChanged(DateTime args)
    {
        value = new DateTime(args.Year, 1, 1);
    }
    // Subida de Archivos
    private RadzenUpload? oUploadFile_Credencial = new();
    private RadzenUpload? oUploadFile_TarjetaCirculacion = new();
    private RadzenUpload? oUploadFile_LicenciaConducir = new();
    private RadzenUpload? oUploadFile_ComprobanteEstudios = new();
    private string folder = "Usuarios";
    private int idResponse = 0;
    private Guid oGuid = Guid.NewGuid();
}
